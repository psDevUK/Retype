name: RetypeBuildAction
on:
  push:
defaults:
  run:
    shell: pwsh

jobs:
  Run-Tests:
    runs-on: windows-latest

    steps:
      - uses: actions/checkout@v3
      - name: ðŸ‘‰ Run PowerShell dotnet build
        run: | 
         sl D:\a\Retype\Retype\Retype
         dotnet build
         dotnet publish

  Install:
    runs-on: windows-latest
    needs: Run-Tests
    steps:
      - uses: actions/checkout@v3
      - name: ðŸ§ª Run PowerShell tests
        run:  Invoke-Pester ./tests/Retype.ps1 -Output Detailed -PassThru -ErrorAction Stop
